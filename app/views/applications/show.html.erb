<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-10 col-12">
      <div class="card border-0 shadow-sm rounded-3">
        <div class="card-header text-black text-center py-3 rounded-top bg-gradient" style="background-color: #d1e7dd;">
          <h2 class="fw-bold mb-0">Detalles de la Aplicación</h2>
        </div>

        <div class="card-body p-4">
          <table class="table table-bordered">
            <tbody>
              <tr>
                <th class="bg-light">Fecha de Aplicación</th>
                <td><%= @application.fecha_aplicacion.strftime("%d/%m/%Y") %></td>
              </tr>
              <tr>
                <th class="bg-light">Sector</th>
                <td><%= @application.sector.presence || "No definido" %></td>
              </tr>
              <tr>
                <th class="bg-light">Operador Tractor</th>
                <td><%= @application.operador_tractor.presence || "No definido" %></td>
              </tr>
              <tr>
                <th class="bg-light">Aplicadores</th>
                <td>
                  <% if @application.aplicadores.present? %>
                    <ul class="list-unstyled mb-0">
                      <% @application.aplicadores.each do |aplicador| %>
                        <li> <%= aplicador %></li>
                      <% end %>
                    </ul>
                  <% else %>
                    <span class="text-muted">No definido</span>
                  <% end %>
                </td>
              </tr>
              <tr>
                <th class="bg-light">Agroquímicos y Dosis</th>
                <td>
                  <% if @application.agroquimicos.present? %>
                    <ul class="list-unstyled mb-0">
                      <% @application.agroquimicos.each_with_index do |agro, index| %>
                        <li><strong><%= agro %></strong> - <span class="text-success"><%= @application.dosis_en_100_l[index] %> L/100L</span></li>
                      <% end %>
                    </ul>
                  <% else %>
                    <span class="text-muted">No definidos</span>
                  <% end %>
                </td>
              </tr>
              <tr>
                <th class="bg-light">Fecha de Liberación</th>
                <td><%= @application.fecha_de_liberacion&.strftime("%d/%m/%Y") || "No definida" %></td>
              </tr>
              <tr>
                <th class="bg-light">Mojamiento Real</th>
                <td><%= @application.mojamiento_real.presence || "No definido" %></td>
              </tr>
              <tr>
                <th class="bg-light">Encargado de Aplicación</th>
                <td><%= @application.encargado_aplicacion.presence || "No definido" %></td>
              </tr>
              <tr>
                <th class="bg-light">Condiciones Climáticas</th>
                <td>
                  <strong>Temperatura:</strong> <%= @application.temperature.presence || "No definida" %> °C <br>
                  <strong>Humedad:</strong> <%= @application.humidity.presence || "No definida" %> % <br>
                  <strong>Nubosidad:</strong> <%= @application.nubosidad.presence || "No definida" %> % <br>
                  <strong>Viento:</strong> <%= @application.viento.presence || "No definido" %> km/h
                </td>
              </tr>
              <tr>
                <th class="bg-light">Horas de Aplicación</th>
                <td>
                   <strong>Inicio:</strong> <%= @application.hora_inicio&.strftime("%H:%M") || "No definida" %> <br>
                   <strong>Fin:</strong> <%= @application.hora_fin&.strftime("%H:%M") || "No definida" %>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="card-footer text-center">
          <%= link_to "Volver", applications_path, class: "btn btn-lg shadow-sm text-black fw-bold", style: "background-color: #d1e7dd;" %>
        </div>
      </div>
    </div>
  </div>
</div>
